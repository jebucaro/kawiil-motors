<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- Categories for organizing permissions in the user permissions window -->
    
    <!-- Main category for motorcycle dealership -->
    <record id="motorcycle_dealership_category" model="ir.module.category">
        <field name="name">Motorcycle Dealership</field>
        <field name="description">Main category for motorcycle dealership applications</field>
        <field name="sequence">10</field>
    </record>

    <!-- Sub-category for motorcycle financing -->
    <record id="motorcycle_financing_category" model="ir.module.category">
        <field name="name">Motorcycle Financing</field>
        <field name="description">Category for motorcycle financing permissions</field>
        <field name="parent_id" ref="motorcycle_dealership_category"/>
        <field name="sequence">10</field>
    </record>

    <!-- Security Groups Definition -->
    
    <!-- Motorcycle Financing User Group -->
    <record id="group_financing_user" model="res.groups">
        <field name="name">Motorcycle Financing User</field>
        <field name="comment">Basic user access to motorcycle financing application</field>
        <field name="category_id" ref="motorcycle_financing_category"/>
        <!-- Inherit Base User permissions -->
        <field name="implied_ids" eval="[Command.link(ref('base.group_user'))]"/>
    </record>

    <!-- Motorcycle Financing Admin Group -->
    <record id="group_financing_admin" model="res.groups">
        <field name="name">Motorcycle Financing Admin</field>
        <field name="comment">Full administrative access to motorcycle financing application</field>
        <field name="category_id" ref="motorcycle_financing_category"/>
        <!-- Inherit Motorcycle Financing User permissions -->
        <field name="implied_ids" eval="[Command.link(ref('group_financing_user'))]"/>
    </record>

    <!-- Assign admin group to the system administrator -->
    <data noupdate="1">
        <record id="base.user_admin" model="res.users">
            <field name="groups_id" eval="[Command.link(ref('group_financing_admin'))]"/>
        </record>
    </data>

</odoo>
